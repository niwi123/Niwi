/*! For license information please see main.b8162bbf.js.LICENSE.txt */
(()=>{"use strict";var e={175:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function o(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},4:(e,t,n)=>{var r=n(853),a=n(43),l=n(950);function s(e){var t="https://6be2d00e-f916-4ea9-93b7-bb62ff737612.preview.emergentagent.com","/api"),ya=()=>{const{user:e,getAuthHeaders:t}=Qr(),n=de(),[r,l]=(0,a.useState)("checking"),[s,i]=(0,a.useState)(null),[o,c]=(0,a.useState)("");(0,a.useEffect)((()=>{const e=new URLSearchParams(n.search).get("session_id");e?u(e):(c("No payment session found"),l("error"))}),[n]);const u=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(n>=5)return c("Payment verification timeout. Please check your account or contact support."),void l("error");try{const r=t(),a=await qr.get("".concat(ba,"/credits/payment-status/").concat(e),{headers:r});if("paid"===a.data.payment_status)return i(a.data),void l("success");if("expired"===a.data.payment_status)return c("Payment session expired. Please try again."),void l("error");l("processing"),setTimeout((()=>u(e,n+1)),2e3)}catch(r){console.error("Error checking payment status:",r),c("Error verifying payment. Please contact support if the issue persists."),l("error")}};return(0,Vr.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Vr.jsx)("header",{className:"bg-white shadow",children:(0,Vr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Vr.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,Vr.jsx)(pt,{to:"/",className:"text-2xl font-bold text-emerald-600",children:"Niwi"}),e&&(0,Vr.jsxs)("div",{className:"text-gray-700",children:["Welcome, ",e.first_name]})]})})}),(0,Vr.jsx)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,Vr.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:(()=>{switch(r){case"checking":return(0,Vr.jsxs)("div",{className:"text-center",children:[(0,Vr.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-emerald-600 mx-auto mb-6"}),(0,Vr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verifying Payment"}),(0,Vr.jsx)("p",{className:"text-gray-600",children:"Please wait while we confirm your payment..."})]});case"processing":return(0,Vr.jsxs)("div",{className:"text-center",children:[(0,Vr.jsx)("div",{className:"animate-pulse",children:(0,Vr.jsx)("div",{className:"bg-yellow-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Vr.jsx)("span",{className:"text-2xl",children:"\u23f3"})})}),(0,Vr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Processing Payment"}),(0,Vr.jsx)("p",{className:"text-gray-600",children:"Your payment is being processed. This may take a moment..."})]});case"success":return(0,Vr.jsxs)("div",{className:"text-center",children:[(0,Vr.jsx)("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Vr.jsx)("span",{className:"text-2xl",children:"\u2705"})}),(0,Vr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),(0,Vr.jsx)("p",{className:"text-gray-600 mb-6",children:"Your credit purchase has been completed successfully."}),s&&(0,Vr.jsxs)("div",{className:"bg-emerald-50 rounded-lg p-6 mb-6 max-w-md mx-auto",children:[(0,Vr.jsx)("h3",{className:"text-lg font-semibold text-emerald-900 mb-4",children:"Purchase Summary"}),(0,Vr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Vr.jsxs)("div",{className:"flex justify-between",children:[(0,Vr.jsx)("span",{className:"text-emerald-700",children:"Credits Added:"}),(0,Vr.jsxs)("span",{className:"font-semibold text-emerald-900",children:["+",s.credits_added]})]}),(0,Vr.jsxs)("div",{className:"flex justify-between border-t border-emerald-200 pt-2",children:[(0,Vr.jsx)("span",{className:"text-emerald-700",children:"New Balance:"}),(0,Vr.jsxs)("span",{className:"font-bold text-emerald-900",children:[s.new_balance," credits"]})]})]})]}),(0,Vr.jsxs)("div",{className:"space-y-4",children:[(0,Vr.jsx)("p",{className:"text-sm text-gray-600",children:"Your credits are now available in your account. You can use them to view full lead details and contact information."}),(0,Vr.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Vr.jsx)(pt,{to:"/professional/leads",className:"bg-emerald-600 text-white px-6 py-3 rounded-lg hover:bg-emerald-700 transition font-medium",children:"Browse Available Leads"}),(0,Vr.jsx)(pt,{to:"/professional/dashboard",className:"bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition font-medium",children:"Go to Dashboard"})]})]})]});case"error":return(0,Vr.jsxs)("div",{className:"text-center",children:[(0,Vr.jsx)("div",{className:"bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Vr.jsx)("span",{className:"text-2xl",children:"\u274c"})}),(0,Vr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Issue"}),(0,Vr.jsx)("p",{className:"text-gray-600 mb-6",children:o}),(0,Vr.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Vr.jsx)(pt,{to:"/credits",className:"bg-emerald-600 text-white px-6 py-3 rounded-lg hover:bg-emerald-700 transition font-medium",children:"Try Again"}),(0,Vr.jsx)(pt,{to:"/professional/dashboard",className:"bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition font-medium",children:"Go to Dashboard"})]})]});default:return null}})()})})]})};const va=function(){return(0,Vr.jsx)(Yr,{children:(0,Vr.jsx)("div",{className:"App",children:(0,Vr.jsx)(mt,{children:(0,Vr.jsxs)(Te,{children:[(0,Vr.jsx)(Pe,{path:"/",element:(0,Vr.jsx)(Jr,{})}),(0,Vr.jsx)(Pe,{path:"/professional/signup",element:(0,Vr.jsx)(Gr,{})}),(0,Vr.jsx)(Pe,{path:"/customer/request",element:(0,Vr.jsx)(Zr,{})}),(0,Vr.jsx)(Pe,{path:"/professional/dashboard",element:(0,Vr.jsx)(ta,{})}),(0,Vr.jsx)(Pe,{path:"/professional/profile",element:(0,Vr.jsx)(ra,{})}),(0,Vr.jsx)(Pe,{path:"/professional/leads",element:(0,Vr.jsx)(ga,{})}),(0,Vr.jsx)(Pe,{path:"/professional/assigned-leads",element:(0,Vr.jsx)(xa,{})}),(0,Vr.jsx)(Pe,{path:"/admin",element:(0,Vr.jsx)(aa,{})}),(0,Vr.jsx)(Pe,{path:"/admin/users",element:(0,Vr.jsx)(oa,{})}),(0,Vr.jsx)(Pe,{path:"/admin/professionals",element:(0,Vr.jsx)(ca,{})}),(0,Vr.jsx)(Pe,{path:"/admin/leads",element:(0,Vr.jsx)(ua,{})}),(0,Vr.jsx)(Pe,{path:"/login",element:(0,Vr.jsx)(da,{})}),(0,Vr.jsx)(Pe,{path:"/credits",element:(0,Vr.jsx)(fa,{})}),(0,Vr.jsx)(Pe,{path:"/pricing",element:(0,Vr.jsx)(pa,{})}),(0,Vr.jsx)(Pe,{path:"/credits/success",element:(0,Vr.jsx)(ya,{})})]})})})})};l.createRoot(document.getElementById("root")).render((0,Vr.jsx)(a.StrictMode,{children:(0,Vr.jsx)(va,{})}))})();
//# sourceMappingURL=main.b8162bbf.js.map